{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "com.heatit",
  "version": "1.0.0",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "name": {
    "en": "Heatit Controls"
  },
  "description": {
    "en": "Heatit Controls devices for Homey"
  },
  "category": [
    "lights"
  ],
  "permissions": [],
  "brandColor": "#25313b",
  "images": {
    "small": "/assets/images/small.png",
    "large": "/assets/images/large.png"
  },
  "author": {
    "name": "Heatit Controls",
    "email": "post@heatit.com"
  },
  "flow": {
    "triggers": [
      {
        "id": "z-push-wc-scene",
        "title": {
          "en": "Scene is activated"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=z-push-wall-controller"
          },
          {
            "name": "button",
            "type": "dropdown",
            "values": [
              {
                "id": "1",
                "label": {
                  "en": "Up left"
                }
              },
              {
                "id": "2",
                "label": {
                  "en": "Down left"
                }
              },
              {
                "id": "3",
                "label": {
                  "en": "Up middle"
                }
              },
              {
                "id": "4",
                "label": {
                  "en": "Down middle"
                }
              },
              {
                "id": "5",
                "label": {
                  "en": "Up right"
                }
              },
              {
                "id": "6",
                "label": {
                  "en": "Down right"
                }
              }
            ]
          },
          {
            "name": "scene",
            "type": "dropdown",
            "values": [
              {
                "id": "Key Pressed 1 time",
                "label": {
                  "en": "Pressed 1x"
                }
              },
              {
                "id": "Key Pressed 2 times",
                "label": {
                  "en": "Pressed 2x"
                }
              },
              {
                "id": "Key Pressed 3 times",
                "label": {
                  "en": "Pressed 3x"
                }
              },
              {
                "id": "Key Held Down",
                "label": {
                  "en": "Long press"
                }
              },
              {
                "id": "Key Released",
                "label": {
                  "en": "Long press released"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "alarm_generic_false",
        "title": {
          "en": "AC mains power reconnected"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=z-repeater"
          }
        ]
      },
      {
        "id": "alarm_generic_true",
        "title": {
          "en": "AC mains power disconnected"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=z-repeater"
          }
        ]
      },
      {
        "id": "zm-relay16-scene",
        "title": {
          "en": "Scene is activated"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=zm-single-relay-16a"
          },
          {
            "name": "button",
            "type": "dropdown",
            "values": [
              {
                "id": "1",
                "label": {
                  "en": "S1"
                }
              },
              {
                "id": "2",
                "label": {
                  "en": "S2"
                }
              }
            ]
          },
          {
            "name": "scene",
            "type": "dropdown",
            "values": [
              {
                "id": "Key Pressed 1 time",
                "label": {
                  "en": "Pressed 1x"
                }
              },
              {
                "id": "Key Pressed 2 times",
                "label": {
                  "en": "Pressed 2x"
                }
              },
              {
                "id": "Key Held Down",
                "label": {
                  "en": "Long press"
                }
              },
              {
                "id": "Key Released",
                "label": {
                  "en": "Long press released"
                }
              }
            ]
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "alarm_generic",
        "title": {
          "en": "AC mains power !{{disconnected|reconnected}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=z-repeater"
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "id": "z-push-wall-controller",
      "name": {
        "en": "Z-Push Wall Controller"
      },
      "class": "button",
      "capabilities": [
        "measure_battery",
        "alarm_battery"
      ],
      "icon": "/drivers/z-push-wall-controller/assets/icon.svg",
      "images": {
        "small": "/drivers/z-push-wall-controller/assets/images/small.png",
        "large": "/drivers/z-push-wall-controller/assets/images/large.png"
      },
      "energy": {
        "batteries": [
          "CR2450"
        ]
      },
      "zwave": {
        "manufacturerId": 411,
        "productTypeId": 4,
        "productId": 9219,
        "learnmode": {
          "image": "/drivers/z-push-wall-controller/assets/learnmode.svg",
          "instruction": {
            "en": "Z-Push Wall Controller Learn mode: Press any UP button 6 times in a rapid sequence on the device."
          }
        },
        "unlearnmode": {
          "image": "/drivers/z-push-wall-controller/assets/learnmode.svg",
          "instruction": {
            "en": "Z-Push Wall Controller Learn mode: Press any UP button 6 times in a rapid sequence on the device."
          }
        },
        "associationGroups": [
          1
        ],
        "associationGroupsOptions": {
          "1": {
            "hint": {
              "en": "Z-Wave Lifeline group. The Homey controller should be here"
            }
          },
          "2": {
            "hint": {
              "en": "Group 2. Used for the first button with double rocker and triple rocker configuration."
            }
          },
          "3": {
            "hint": {
              "en": "Group 3. Used for the first button with single rocker and the second button for triple rocker configuration."
            }
          },
          "4": {
            "hint": {
              "en": "Group 4. Used for the last button with double rocker and triple rocker configuration."
            }
          }
        },
        "wakeUpInterval": 3600
      },
      "settings": [
        {
          "id": "btn_reports",
          "type": "dropdown",
          "label": {
            "en": "Select Button reports"
          },
          "hint": {
            "en": "This parameter (1) configures reports sent when pressing buttons"
          },
          "zwave": {
            "index": 1,
            "size": 1
          },
          "value": "2",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Send Central Scene Command only"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Send Group Association Command only"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "Send Central Scene and Group Association Commands"
              }
            }
          ]
        },
        {
          "id": "led_signaling",
          "type": "checkbox",
          "label": {
            "en": "LED signalling"
          },
          "hint": {
            "en": "This parameter (2) configures if LED signalling should be enabled for button press confirmations"
          },
          "zwave": {
            "index": 2,
            "size": 1
          },
          "value": true
        },
        {
          "id": "active_btn_rockers",
          "type": "dropdown",
          "label": {
            "en": "Active Button rockers"
          },
          "hint": {
            "en": "This parameter (3) configures different rocker setups"
          },
          "zwave": {
            "index": 3,
            "size": 1
          },
          "value": "3",
          "values": [
            {
              "id": "1",
              "label": {
                "en": "Single rocker"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "Dual rocker"
              }
            },
            {
              "id": "3",
              "label": {
                "en": "Triple rocker"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "z-repeater",
      "name": {
        "en": "Z-Repeater"
      },
      "class": "sensor",
      "capabilities": [
        "measure_battery",
        "alarm_battery",
        "alarm_generic.power"
      ],
      "capabilitiesOptions": {
        "alarm_generic.power": {
          "title": {
            "en": "AC mains power alarm"
          }
        }
      },
      "icon": "/drivers/z-repeater/assets/icon.svg",
      "images": {
        "small": "/drivers/z-repeater/assets/images/small.png",
        "large": "/drivers/z-repeater/assets/images/large.png"
      },
      "energy": {
        "batteries": [
          "INTERNAL"
        ]
      },
      "zwave": {
        "manufacturerId": 411,
        "productTypeId": 3,
        "productId": 13824,
        "learnmode": {
          "image": "/drivers/z-repeater/assets/learnmode.svg",
          "instruction": {
            "en": "Press the configuration button 3 times."
          }
        },
        "unlearnmode": {
          "image": "/drivers/z-repeater/assets/learnmode.svg",
          "instruction": {
            "en": "Press the configuration button 3 times."
          }
        },
        "associationGroups": [
          1
        ],
        "associationGroupsOptions": {
          "1": {
            "hint": {
              "en": "Z-Wave Lifeline group. The Homey controller should be here"
            }
          }
        }
      }
    },
    {
      "id": "zm-single-relay-16a",
      "name": {
        "en": "ZM Single Relay 16A"
      },
      "class": "socket",
      "capabilities": [
        "measure_power",
        "meter_power",
        "onoff"
      ],
      "icon": "/drivers/zm-single-relay-16a/assets/icon.svg",
      "images": {
        "small": "/drivers/zm-single-relay-16a/assets/images/small.png",
        "large": "/drivers/zm-single-relay-16a/assets/images/large.png"
      },
      "zwave": {
        "manufacturerId": 411,
        "productTypeId": 4,
        "productId": 13568,
        "learnmode": {
          "instruction": {
            "en": "Press the configuration button 3 times."
          }
        },
        "associationGroups": [
          1
        ],
        "associationGroupsOptions": {
          "1": {
            "hint": {
              "en": "Z-Wave Lifeline group. The Homey controller should be here"
            }
          },
          "2": {
            "hint": {
              "en": "External Relay Control S1. Send Basic Set when S1 pressed"
            }
          },
          "3": {
            "hint": {
              "en": "Control External Start/Stop S1. Send Multilevel Switch Set when S1 pressed/held"
            }
          },
          "4": {
            "hint": {
              "en": "External Relay Control S2. Send Basic Set when S2 pressed"
            }
          },
          "5": {
            "hint": {
              "en": "Control External Start/Stop S2. Send Multilevel Switch Set when S2 pressed/held"
            }
          }
        }
      },
      "settings": [
        {
          "id": "load_limit",
          "type": "number",
          "label": {
            "en": "Load limit"
          },
          "hint": {
            "en": "This parameter (1) ensures that the device does not draw more current than rated. Immunity for power consumption peaks. 1-16 Ampere."
          },
          "zwave": {
            "index": 1,
            "size": 1
          },
          "value": 16,
          "attr": {
            "min": 1,
            "max": 16
          }
        },
        {
          "id": "pwr_shutdown_action",
          "type": "number",
          "label": {
            "en": "Power shutdown actions"
          },
          "hint": {
            "en": "This parameter (2) decides how the device should react when the overload/overheating features has turned relay OFF. 0 do nothing. 1-32767 minutes before try to turn ON again."
          },
          "zwave": {
            "index": 2,
            "size": 2
          },
          "value": 0,
          "attr": {
            "min": 0,
            "max": 32767
          }
        },
        {
          "id": "switch_type",
          "type": "dropdown",
          "label": {
            "en": "Switch Type"
          },
          "hint": {
            "en": "This parameter (3) decides what type of switch is connected"
          },
          "zwave": {
            "index": 3,
            "size": 1
          },
          "value": "0",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Momentary switch"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Toggle switch"
              }
            }
          ]
        },
        {
          "id": "s1_actions",
          "type": "dropdown",
          "label": {
            "en": "S1/Button actions"
          },
          "hint": {
            "en": "This parameter (4) decides S1/Button actions"
          },
          "zwave": {
            "index": 4,
            "size": 1
          },
          "value": "0",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Button turns load on/off and sends Meter report + Relay status."
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Button sends Meter report + Relay status, load can be only controlled wirelessly."
              }
            }
          ]
        },
        {
          "id": "scn_notifications",
          "type": "dropdown",
          "label": {
            "en": "Scene notifications"
          },
          "hint": {
            "en": "This parameter (5) decides if/what scene controller notifications the device sends to gateway."
          },
          "zwave": {
            "index": 5,
            "size": 1
          },
          "value": "0",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "S2 Scenes enabled"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "S1 Scenes enabled"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "S2 and S1 Scenes enabled"
              }
            },
            {
              "id": "3",
              "label": {
                "en": "S2 and S1 Scenes disabled"
              }
            }
          ]
        },
        {
          "id": "rstr_pwr_level",
          "type": "dropdown",
          "label": {
            "en": "Restore Power Level"
          },
          "hint": {
            "en": "This parameter (6) decides Relay power level after power is restored from power outage. When device is from factory/factory reset the first state of the device should be OFF"
          },
          "zwave": {
            "index": 6,
            "size": 1
          },
          "value": "2",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Always OFF on restored power"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Always ON on restored power"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "Restore last state on restored power"
              }
            }
          ]
        },
        {
          "id": "auto_off",
          "type": "number",
          "label": {
            "en": "Automatic turn OFF"
          },
          "hint": {
            "en": "This parameter (7) decides time to turn relay OFF after having been turned ON. 0 disabled. 1-86400 seconds timeout."
          },
          "zwave": {
            "index": 7,
            "size": 4
          },
          "value": 0,
          "attr": {
            "min": 0,
            "max": 86400
          }
        },
        {
          "id": "auto_on",
          "type": "number",
          "label": {
            "en": "Automatic turn ON"
          },
          "hint": {
            "en": "This parameter (8) decides time to turn relay ON after having been turned OFF. 0 disabled. 1-86400 seconds timeout."
          },
          "zwave": {
            "index": 8,
            "size": 4
          },
          "value": 0,
          "attr": {
            "min": 0,
            "max": 86400
          }
        },
        {
          "id": "iverted_output",
          "type": "dropdown",
          "label": {
            "en": "Inverted Output"
          },
          "hint": {
            "en": "This parameter (9) decides if the relay output should be inverted"
          },
          "zwave": {
            "index": 9,
            "size": 1
          },
          "value": "0",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Standard operation."
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Inverted Output."
              }
            }
          ]
        },
        {
          "id": "mtr_interval",
          "type": "number",
          "label": {
            "en": "Meter report interval"
          },
          "hint": {
            "en": "This parameter (10) decides time interval between consecutive meter reports. Meter reports can also be sent as a result of polling. 30-32767 seconds."
          },
          "zwave": {
            "index": 10,
            "size": 2
          },
          "value": 900,
          "attr": {
            "min": 30,
            "max": 32767
          }
        },
        {
          "id": "mtr_delta",
          "type": "number",
          "label": {
            "en": "Meter report delta value"
          },
          "hint": {
            "en": "This parameter (11) decides the delta for meter in Watt for the device issue meter report. 5-3600W."
          },
          "zwave": {
            "index": 11,
            "size": 2
          },
          "value": 75,
          "attr": {
            "min": 5,
            "max": 3600
          }
        }
      ]
    }
  ]
}